:root {
  --bg:#f5f7fa;
  --card:#fff;
  --text:#1f2d3a;
  --muted:#6e7a8c;
  --primary:#635BFF;
  --radius:12px;
  --shadow:0 12px 30px -10px rgba(31,45,58,0.1);

  --side-bg: #fff;
  --input-bg: #f7f9fc;
  --section-bg: #eef3fb;
  --tag-bg:#ffe8e6;
  --tag-text:#d23f44;

  --impact-very-bearish:#ff4f4f;
  --impact-bearish:#e05555;
  --impact-neutral:#ffd966;
  --impact-bullish:#4ade80;
  --impact-very-bullish:#22c55e;
}
[data-theme="dark"] {
  --bg:#0f1724;
  --card:#1f2d3a;
  --text:#f0f5ff;
  --muted:#8fa6c1;
  --primary:#a399ff;
  --side-bg:#1f2d3a;
  --input-bg:#1e2436;
  --section-bg:#1f2d44;
  --tag-bg:#4f2a33;
  --tag-text:#ffb3b0;
  --shadow:0 20px 40px -10px rgba(0,0,0,0.7);

  --impact-very-bearish:#ce3b3b;
  --impact-bearish:#b03f3f;
  --impact-neutral:#e6c860;
  --impact-bullish:#2bbf6f;
  --impact-very-bullish:#1ea85c;
}

*{box-sizing:border-box;}
body {
  margin:0;
  font-family: system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;
  background: var(--bg);
  color: var(--text);
}
.container {
  max-width:1040px;
  margin:0 auto;
  padding:16px;
}
.header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px 0;
}
.logo {
  display:flex;
  align-items:center;
  gap:8px;
  font-weight:700;
  font-size:1.35rem;
}
.logo-mark {
  width:30px;
  height:30px;
  border-radius:8px;
  background: var(--primary);
  position:relative;
}
.logo-mark::after {
  content:'';
  position:absolute;
  inset:6px;
  background:#fff;
  border-radius:3px;
}
.logo-text {
  letter-spacing:0.5px;
}
.nav-right {
  display:flex;
  align-items:center;
  gap:14px;
}
.theme-toggle {
  background:none;
  border:none;
  cursor:pointer;
  font-size:20px;
  padding:6px;
  border-radius:8px;
  display:flex;
  align-items:center;
}
.icon-btn {
  position:relative;
  background:none;
  border:none;
  cursor:pointer;
  font-size:18px;
}
.badge {
  position:absolute;
  top:2px;
  right:2px;
  background:#ff3b30;
  color:#fff;
  padding:2px 6px;
  border-radius:999px;
  font-size:10px;
}
.current-section {
  margin:8px 0 16px;
  padding:10px 14px;
  background: var(--section-bg);
  border-radius:8px;
  font-weight:600;
  display:flex;
  align-items:center;
  gap:12px;
}
.current-section .section-label {
  font-size:1rem;
}
.create-post-btn {
  margin-left:auto;
  padding:8px 14px;
  background: var(--primary);
  color:#fff;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-weight:600;
  font-size:0.9rem;
}

/* share */
.share-box {
  background: var(--section-bg);
  border-radius:12px;
  padding:16px;
  display:flex;
  gap:12px;
  margin-top:12px;
}
.share-buttons button {
  background:#f0f4fa;
  border:none;
  padding:10px 14px;
  border-radius:8px;
  cursor:pointer;
  font-size:0.9rem;
}

/* posts */
.posts {
  margin-top:24px;
  display:grid;
  gap:20px;
}
.post-card {
  background: var(--card);
  border-radius:12px;
  box-shadow: var(--shadow);
  overflow:hidden;
  padding-bottom:4px;
  position:relative;
}
.post-header {
  display:flex;
  gap:12px;
  align-items:center;
  padding:14px 16px 6px;
}
.avatar {
  width:42px;
  height:42px;
  border-radius:50%;
  background: linear-gradient(135deg,var(--primary),#ff8a00);
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-weight:700;
}
.user-info {
  flex:1;
  display:flex;
  flex-direction:column;
  gap:4px;
}
.user-name {
  font-weight:600;
  display:flex;
  align-items:center;
  gap:6px;
}
.verified {
  background: var(--primary);
  color:#fff;
  border-radius:50%;
  padding:2px 6px;
  font-size:10px;
  margin-left:4px;
}
.timestamp {
  font-size:0.75rem;
  color: var(--muted);
}
.tag {
  padding:6px 12px;
  border-radius:999px;
  font-size:0.6rem;
  font-weight:600;
  display:inline-flex;
  align-items:center;
  gap:4px;
}
.tag.bearish { background: var(--impact-bearish); color:#fff; }
.tag.very-bearish { background: var(--impact-very-bearish); color:#fff; }
.tag.bullish { background: var(--impact-bullish); color:#fff; }
.tag.very-bullish { background: var(--impact-very-bullish); color:#fff; }
.tag.neutral { background: var(--impact-neutral); color:#1f2d3a; }
.post-image {
  position:relative;
  background:#e4e9f5;
  padding-top:56%;
}
.placeholder {
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  gap:6px;
  color: var(--muted);
}
.post-body {
  padding:12px 16px 4px;
}
.currency-pair {
  font-size:0.75rem;
  background: rgba(99,91,255,0.1);
  display:inline-block;
  padding:4px 10px;
  border-radius:6px;
  margin-bottom:6px;
  font-weight:600;
}
.post-footer {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:10px 16px 14px;
}
.actions button {
  background:none;
  border:none;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:6px;
  font-size:0.85rem;
}
.footer-label {
  font-size:0.65rem;
  color: var(--muted);
}

/* modal for post */
.modal-backdrop {
  position: fixed;
  inset:0;
  background: rgba(0,0,0,0.25);
  opacity:0;
  pointer-events:none;
  transition:opacity .2s;
  z-index:250;
}
.modal-backdrop.visible {
  opacity:1;
  pointer-events: all;
}
.post-modal {
  position: fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
  z-index:300;
  visibility:hidden;
}
.post-modal.active {
  visibility: visible;
}
.post-dialog {
  background: var(--card);
  border-radius:16px;
  width:100%;
  max-width:500px;
  overflow:auto;
  max-height:90vh;
  display:flex;
  flex-direction:column;
  box-shadow: var(--shadow);
}
.modal-header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:16px 18px 8px;
}
.modal-header .title {
  font-size:1.35rem;
  font-weight:700;
}
.close-modal {
  background:none;
  border:none;
  font-size:24px;
  cursor:pointer;
}
.modal-body {
  padding:8px 16px 0;
  display:flex;
  flex-direction:column;
  gap:16px;
}
.subsection .label {
  font-weight:600;
  margin-bottom:6px;
}
.currency-grid {
  display:grid;
  grid-template-columns: repeat(auto-fit,minmax(100px,1fr));
  gap:8px;
}
.pill {
  padding:10px 12px;
  border:1px solid rgba(31,45,58,0.15);
  border-radius:8px;
  background:#fff;
  cursor:pointer;
  font-size:0.8rem;
  font-weight:600;
  transition:background .15s, border .15s;
}
.pill.selected {
  border-color: var(--primary);
  background: rgba(99,91,255,0.08);
}
.impact-grid {
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}
.impact-btn {
  flex:1;
  min-width:100px;
  padding:10px 12px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-weight:600;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:6px;
  background: #f0f4fa;
  transition:transform .1s;
}
.impact-btn.selected {
  outline:3px solid var(--primary);
}
.impact-btn[data-impact="Very Bearish"] { background: var(--impact-very-bearish); color:#fff; }
.impact-btn[data-impact="Bearish"] { background: var(--impact-bearish); color:#fff; }
.impact-btn[data-impact="Neutral"] { background: var(--impact-neutral); color:#1f2d3a; }
.impact-btn[data-impact="Bullish"] { background: var(--impact-bullish); color:#fff; }
.impact-btn[data-impact="Very Bullish"] { background: var(--impact-very-bullish); color:#fff; }

#postContent {
  width:100%;
  min-height:100px;
  resize:vertical;
  padding:12px;
  border-radius:10px;
  border:1px solid rgba(31,45,58,0.15);
  font-size:1rem;
  background: #fff;
}
.media-section {
  position:relative;
}
.upload-box {
  border:2px dashed rgba(31,45,58,0.2);
  border-radius:10px;
  padding:18px;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  cursor:pointer;
  overflow:hidden;
}
.upload-box .placeholder {
  text-align:center;
  display:flex;
  flex-direction:column;
  gap:6px;
  font-size:0.9rem;
}
.upload-box input {
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  opacity:0;
  cursor:pointer;
}
.upload-box img,
.upload-box video {
  max-height:250px;
  border-radius:8px;
  object-fit:cover;
}
.modal-footer {
  padding:14px 16px;
}
.modal-footer .primary-btn {
  width:100%;
  padding:14px;
  border:none;
  border-radius:8px;
  background: var(--primary);
  color:#fff;
  font-weight:600;
  cursor:pointer;
}

/* auth */
.auth-wrapper {
  position:fixed;
  inset:0;
  background: rgba(239,242,250,0.95);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
  z-index:100;
}
.auth-box {
  background: var(--card);
  border-radius:14px;
  padding:28px 24px 36px;
  width:100%;
  max-width:500px;
  box-shadow: var(--shadow);
  display:flex;
  flex-direction:column;
  gap:14px;
}
.logo-large {
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom:4px;
}
.logo-mark-big {
  width:48px;
  height:48px;
  border-radius:10px;
  background: var(--primary);
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
}
.logo-mark-big .inner-mark {
  width:24px;
  height:24px;
  background:#fff;
  border-radius:5px;
}
.logo-text-big {
  font-size:2.5rem;
  font-weight:800;
  letter-spacing:1px;
}
.tab-switcher {
  display:flex;
  gap:8px;
  margin-bottom:8px;
}
.tab-btn {
  flex:1;
  padding:12px 0;
  background: rgba(99,91,255,0.1);
  border:none;
  border-radius:8px;
  font-weight:600;
  cursor:pointer;
  transition:background .2s;
}
.tab-btn.active {
  background: var(--primary);
  color:#fff;
}
.form-panel { display:none; }
.form-panel.active { display:block; }
.subtitle {
  margin:0 0 10px;
  font-size:1rem;
  color: var(--muted);
}
.auth-form {
  display:flex;
  flex-direction:column;
  gap:14px;
}
.field {
  display:flex;
  flex-direction:column;
  gap:6px;
}
.field label {
  font-size:0.8rem;
  font-weight:600;
}
.input-wrapper {
  position:relative;
  display:flex;
  align-items:center;
}
.input-wrapper .icon {
  position:absolute;
  left:12px;
  font-size:16px;
}
.input-wrapper input {
  width:100%;
  padding:12px 14px 12px 42px;
  border-radius:8px;
  border:1px solid rgba(31,45,58,0.1);
  background: var(--input-bg);
  font-size:1rem;
  outline:none;
}
.password-wrapper .eye-toggle {
  position:absolute;
  right:10px;
  background:none;
  border:none;
  cursor:pointer;
  font-size:16px;
}
.inline-options {
  display:flex;
  align-items:center;
}
.remember {
  font-size:0.85rem;
  display:inline-flex;
  align-items:center;
  gap:6px;
}
.primary-btn {
  padding:14px;
  border:none;
  border-radius:8px;
  background: var(--primary);
  color:#fff;
  font-weight:600;
  cursor:pointer;
}
.secondary-btn {
  padding:12px;
  border:1px solid rgba(31,45,58,0.15);
  border-radius:8px;
  background:#fff;
  cursor:pointer;
}
.divider {
  display:flex;
  align-items:center;
  gap:12px;
  font-size:0.85rem;
  color: var(--muted);
}
.divider::before,
.divider::after {
  content:'';
  flex:1;
  height:1px;
  background: rgba(31,45,58,0.08);
}
.signup-line {
  font-size:0.85rem;
  text-align:center;
}
.link-btn {
  background:none;
  border:none;
  color: var(--primary);
  font-weight:600;
  cursor:pointer;
}

/* google */
.google-wrapper {
  display:flex;
  justify-content:center;
  margin:6px 0;
}

/* account card */
.account-card {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 10px;
  border-radius: 10px;
  background: rgba(99,91,255,0.05);
  margin-bottom: 6px;
}
.avatar-circle {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: linear-gradient(135deg,#635BFF,#FF8A00);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight:700;
  color:#fff;
  font-size:1rem;
  flex-shrink:0;
}
.account-info {
  display:flex;
  flex-direction: column;
  overflow: hidden;
}
.account-name {
  font-weight:700;
  font-size:0.95rem;
  white-space:nowrap;
  text-overflow:ellipsis;
  overflow:hidden;
}
.account-email {
  font-size:0.75rem;
  color: var(--muted);
  white-space:nowrap;
  text-overflow:ellipsis;
  overflow:hidden;
}

/* profile modal */
.profile-modal {
  position: fixed;
  inset:0;
  background: rgba(0,0,0,0.35);
  display: flex;
  align-items:center;
  justify-content:center;
  padding:16px;
  z-index:300;
  visibility:hidden;
  opacity:0;
  transition:opacity .25s;
}
.profile-modal.visible {
  visibility: visible;
  opacity:1;
}
.profile-card {
  background: var(--card);
  border-radius:12px;
  padding:24px;
  max-width:480px;
  width:100%;
  position:relative;
  box-shadow: var(--shadow);
  display:flex;
  flex-direction:column;
  gap:16px;
  max-height:90vh;
  overflow:auto;
}
.close-profile {
  position:absolute;
  top:12px;
  right:12px;
  background:none;
  border:none;
  font-size:24px;
  cursor:pointer;
}
.profile-header {
  display:flex;
  gap:18px;
  align-items:flex-start;
}
.avatar-large {
  width:72px;
  height:72px;
  border-radius:50%;
  background: linear-gradient(135deg,var(--primary),#ff8a00);
  display:flex;
  align-items:center;
  justify-content:center;
  color:#fff;
  font-weight:700;
  font-size:1.3rem;
  flex-shrink:0;
  position:relative;
  overflow:hidden;
}
.avatar-large img {
  width:100%;
  height:100%;
  object-fit:cover;
  border-radius:50%;
}
.info {
  flex:1;
  display:flex;
  flex-direction:column;
  gap:10px;
}
.field {
  display:flex;
  flex-direction:column;
  gap:4px;
}
.field label {
  font-size:0.75rem;
  font-weight:600;
}
.field input {
  padding:10px 12px;
  border-radius:8px;
  border:1px solid rgba(31,45,58,0.15);
  font-size:1rem;
  background: var(--input-bg);
  color: var(--text);
}
.actions-row {
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  align-items:center;
}
.upload-label {
  cursor:pointer;
  background: rgba(99,91,255,0.08);
  padding:10px 16px;
  border-radius:8px;
  display:inline-flex;
  align-items:center;
  gap:6px;
  font-weight:600;
}
.upload-label input {
  display:none;
}
.full-width {
  width:100%;
}

/* side menu */
.side-menu {
  position: fixed;
  top:0;
  right:-330px;
  width:300px;
  height:100%;
  background: var(--side-bg);
  padding:24px 16px;
  box-shadow:-16px 0 60px -10px rgba(31,45,58,0.2);
  border-left:1px solid rgba(31,45,58,0.08);
  border-radius:12px 0 0 12px;
  display:flex;
  flex-direction:column;
  gap:14px;
  transition:right .35s ease;
  z-index:200;
}
.side-menu.open {
  right:0;
}
.menu-backdrop {
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.15);
  opacity:0;
  pointer-events:none;
  transition:opacity .25s;
  z-index:180;
}
.menu-backdrop.visible {
  opacity:1;
  pointer-events: all;
}
.menu-header {
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.blue-title {
  font-size:1.25rem;
  font-weight:700;
  color:#2563eb;
}
.section {
  margin-top:6px;
}
.section-title {
  font-weight:700;
  display:flex;
  align-items:center;
  gap:6px;
}
.section-title.blue { color:#2563eb; }
.section-title.red { color:#dc2626; }
.section-title.green { color:#16a34a; }
.item {
  padding:8px 12px;
  border-radius:8px;
  cursor:pointer;
  margin-top:4px;
  font-size:0.95rem;
  transition:background .15s;
}
.item:hover { background: rgba(99,91,255,0.06); }
.item.active { background: rgba(99,91,255,0.15); font-weight:700; }
.menu-footer {
  margin-top:0;
}
.logout-btn {
  width:100%;
  padding:12px;
  border:none;
  border-radius:8px;
  background:#dc2626;
  color:#fff;
  font-weight:600;
  cursor:pointer;
}
.logout-btn:hover { filter:brightness(1.1); }

.error {
  background: rgba(220,38,38,0.1);
  color: #a71d2a;
  padding:8px 12px;
  border-radius:6px;
  font-size:0.85rem;
  margin-bottom:4px;
}
/* ensure all previous variables and base are present as before */
:root {
  --bg:#f5f7fa;
  --card:#fff;
  --text:#1f2d3a;
  --muted:#6e7a8c;
  --primary:#635BFF;
  --radius:12px;
  --shadow:0 12px 30px -10px rgba(31,45,58,0.1);
  --like-red:#e0245e;
}
[data-theme="dark"] {
  --bg:#0f1724;
  --card:#1f2d3a;
  --text:#f0f5ff;
  --muted:#8fa6c1;
  --primary:#a399ff;
  --shadow:0 20px 40px -10px rgba(0,0,0,0.7);
}

/* input adjustments so text doesn't go under icons */
.input-wrapper input {
  padding-left:44px;
}
.input-wrapper .icon {
  left:12px;
}

/* eye toggle */
.password-wrapper {
  position: relative;
}
.password-wrapper .eye-toggle {
  position:absolute;
  right:10px;
  background:none;
  border:none;
  cursor:pointer;
  font-size:16px;
}

/* comment modal */
.comment-backdrop {
  position: fixed;
  inset:0;
  background: rgba(0,0,0,0.25);
  opacity:0;
  pointer-events:none;
  transition:opacity .2s;
  z-index:260;
}
.comment-backdrop.visible {
  opacity:1;
  pointer-events: all;
}
.comment-modal {
  position: fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
  z-index:270;
  visibility:hidden;
}
.comment-modal.active {
  visibility: visible;
}
.comment-dialog {
  background: var(--card);
  border-radius:16px;
  width:100%;
  max-width:480px;
  overflow:auto;
  max-height:90vh;
  box-shadow: var(--shadow);
  display:flex;
  flex-direction:column;
}
.comment-dialog .modal-header,
.comment-dialog .modal-footer {
  padding:12px 16px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.comment-dialog .modal-body {
  padding:12px 16px;
  display:flex;
  flex-direction:column;
  gap:14px;
}
.comment-dialog textarea {
  min-height:80px;
  resize:vertical;
  padding:10px;
  border-radius:8px;
  border:1px solid rgba(31,45,58,0.15);
  background: var(--input-bg);
  font-size:1rem;
}

/* like active state */
.post-footer .actions button[aria-label="like"] {
  position: relative;
}
.post-footer .actions button.liked span.count {
  color: var(--like-red);
}
.post-footer .actions button.liked svg,
.post-header .tag {
  transition:all .2s;
}
.post-footer .actions button.liked {
  color: var(--like-red);
}

/* theme adaptation for modals and menu */
.post-modal .post-dialog,
.comment-dialog,
.profile-card,
.side-menu {
  background: var(--card);
  color: var(--text);
}

/* ensure the menu button area highlights in dark */
.side-menu {
  transition: background .3s;
}

/* rest of CSS remains as previous (keep currency/impact/tag styling etc.) */
